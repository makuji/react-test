import React, { Component } from 'react';

import DayShedule from '../dayShedule/DayShedule'

class DayItem extends Component {

	renderShedule(props) {
		const shedule = props.shedule;
		return (
				<tbody>
					{shedule.map((task, index) => 
						<DayShedule key={index} index={index} task={task} />
						)}
				</tbody>
			);
	}

	handleCreateShedule(event) {
		event.preventDefault();
		// console.log(this.props.index);
		this.props.createShedule(this.props.index);
	}

	render() {
		return (
				<div>
					<table>
						<thead>
							<tr>
								<th>Place</th>
								<th>Time</th>
								<th>Activity</th>
							</tr>			
						</thead>
						{this.renderShedule(this.props)}
					</table>

					<a href="#" className="button" onClick={this.handleCreateShedule.bind(this)} ref={this.props.index}>Shedule +</a>
				</div>
			);
	}
}

export default DayItem;


DayShedule



import React, { Component } from 'react';

class DayShedule extends Component {
	constructor(props) {
		super(props);

		this.state = {
			rowActive: true,
			className: 'sheduleMenu',
		}
	}

	handleMenu() {
		this.setState({rowActive: !this.state.rowActive});
		if(this.state.rowActive) this.setState({className: this.state.className + ' active'});
			else this.setState({className: this.state.className.split(' ')[0]});
	}

	render() {
		return (
				<tr className="active" onClick={this.handleMenu.bind(this)}>
					<td>{this.props.task.place}</td>
					<td>{this.props.task.time}</td>
					<td>{this.props.task.activity}</td>
					<div className={this.state.className}>Some menu text</div>
				</tr>
			);
	}
}

export default DayShedule;